<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="INFO">
    <Properties>
        <property name = "pattern">%d{HH:mm:ss.SSS} [%t] %-5level %logger{5} - %msg%n</property>
        <property name = "patternRoll">logs/rollingLog/${%d{HH:mm:ss.SSS}_%i.log  - %msg%n</property>
    </Properties>
    <Filter type="ThresholdFilter" level="treace"/>

<Appenders>

    <Console name="ConsoleAppender" target="SYSTEM_OUT">
        <Layout type = "PatternLayout" pattern = "${pattern}"/>
    </Console>

    <File name="FileAppender" fileName="application-${date:yyyyMMdd}.log" bufferedIO="true">
        <PatternLayout pattern="${pattern}"/>
    </File>

    <RollingFile name = "RollingFile" filename = "application-${date:yyyyMMdd}.log" append="true" filePattern="${patternRoll}">
        <PatternLayout pattern="${pattern}"/>
        <Policies>
            <TimeBasedTriggeringPolicy interval="1"/>
            <SizeBasedTriggeringPolicy size="200 B"/>
        </Policies>
        <DefaultRolloverStrategy max="10"/>
    </RollingFile>

</Appenders>
<Loggers>
    <Logger name="bookstore/controller/App" level="debug" additivity="false">
        <AppenderRef ref="ConsoleAppender" />
    </Logger>

    <Logger name="Log_File" level="error" additivity="false">
        <AppenderRef ref="FileAppender" />
    </Logger>

    <Logger name="Log_Rolling" level="error" additivity="false">
        <AppenderRef ref="RollingFile" />
    </Logger>

    <Root level="all">
        <AppenderRef ref="ConsoleAppender" />
        <AppenderRef ref="RollingFile" />
    </Root>
</Loggers>
</Configuration>